 
 
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>浩宇建设 - 项目部</title>
<link rel="stylesheet" href="static/layui/css/layui.css">
<link rel="stylesheet" href="static/layui/css/global.css">
</head>
<body class="layui-layout-body">
<div class="layui-layout layui-layout-admin">
  <div class="layui-header">
    <div class="layui-logo">项目管理部·成本控制</div>
    <!-- 头部区域（可配合layui已有的水平导航） -->
    <ul class="layui-nav layui-layout-left">
      <li class="layui-nav-item"><a href="index">首页</a></li>
      <li class="layui-nav-item"><a href="project">项目管理</a></li>
      <li class="layui-nav-item"><a href="company">供应商管理</a></li>
      <li class="layui-nav-item"><a href="contract">合同管理</a></li>
      <li class="layui-nav-item"><a href="finace">财务管理</a></li>
    </ul>

    <ul class="layui-nav layui-layout-right">
      <li class="layui-nav-item">
        <a href="javascript:;">
          <img src="http://t.cn/RCzsdCq" class="layui-nav-img">
          admin
        </a>
        <dl class="layui-nav-child">
          <dd><a href="javascript:;">基本资料</a></dd>
          <dd><a href="javascript:;">安全设置</a></dd>
        </dl>
      </li>
      <li class="layui-nav-item"><a href="javascript:;">退出</a></li>
    </ul>
  </div>
  
  
  
  <div class="layui-body">
    <!-- 内容主体区域 -->
    <span class="layui-breadcrumb">
      <a href="javascript:;">首页</a>
      <a href="javascript:;"><cite>供应商管理</cite></a>
    </span>
    <hr>
    <blockquote class="layui-elem-quote">公告：暂无</blockquote>
    <div class="layui-tab layui-tab-brief">
      <ul class="layui-tab-title">
        <li class="layui-this">供应商新增</li>
        <li>供应商查阅</li>
      </ul>
      <div class="layui-tab-content">
        <div class="layui-tab-item layui-show">
          <form class="layui-form" action="">
            <div class="layui-form-item">
              <label class="layui-form-label">供应商名称</label>
              <div class="layui-input-inline">
                <input type="text" name="comName" required  lay-verify="required" placeholder="请输入供应商名称" autocomplete="off" class="layui-input">
              </div>
            </div>
            <div class="layui-form-item">
              <label class="layui-form-label">开户行名称</label>
              <div class="layui-input-inline">
                <input type="text" name="comAccountName" required  lay-verify="required" placeholder="请输入供应商开户行" autocomplete="off" class="layui-input">
              </div>
            </div>
            <div class="layui-form-item">
              <label class="layui-form-label">付款账号</label>
              <div class="layui-input-inline">
                <input type="text" name="comAccount" required  lay-verify="required" placeholder="请输入供应商账号" autocomplete="off" class="layui-input">
              </div>
            </div>
            <div class="layui-form-item">
              <label class="layui-form-label">联系电话</label>
              <div class="layui-input-inline">
                <input type="text" name="comPhone" required  lay-verify="required" placeholder="请输入供应商联系电话" autocomplete="off" class="layui-input">
              </div>
            </div>
            
            <div class="layui-form-item layui-form-text">
              <label class="layui-form-label">备注</label>
              <div class="layui-input-block">
                <textarea name="remark" placeholder="请输入内容" class="layui-textarea"></textarea>
              </div>
            </div>
            <div class="layui-form-item">
              <div class="layui-input-block">
                <button class="layui-btn" lay-submit lay-filter="companyForm">立即提交</button>
                <button type="reset" class="layui-btn layui-btn-primary">重置</button>
              </div>
            </div>
          </form>
        </div>
        <div class="layui-tab-item">
          <table id="tabList" lay-filter="tab"></table>
        </div>
      </div>
    </div>
  </div>
  
  <div class="layui-footer">
    <!-- 底部固定区域 -->
    © 湖南浩宇建设有限公司 - Lee.
  </div>
</div>
<script src="static/layui/layui.js"></script>
<script type="text/html" id="colBar">
  <a class="layui-btn layui-btn-xs" lay-event="detail">查看</a>
  <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
  <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
</script>
<script>
//JavaScript代码区域
layui.use(['element','form','table'], function(){
  var element = layui.element,
  form = layui.form,
  table = layui.table,
  $ = layui.$;
  
  //监听提交
  form.on('submit(companyForm)', function(data){
    $.post('/company/add',data.field,function(res){        
        layer.msg(res.msg);
      }
    )
    return false;
  });

  form.on('checkbox', function () {
    $("[type='checkbox']").prop("checked", "");
    $(this).prop("checked", "checked");
    form.render('checkbox');
    layer.msg("错误~~~");
  });
  //第一个实例
  table.render({
    elem: '#tabList'
    ,id: 'tabListReload'
    ,url: '/company/query' //数据接口
    ,page: true //开启分页
    ,cols: [[ //表头
      {field: 'comId', title: '序号', width:80}
      ,{field: 'comName', title: '供应商名称', width:280}
      ,{field: 'comBankName', title: '开户行名称', width:180, sort: true}
      ,{field: 'comAccount', title: '付款账号', width:180} 
      ,{field: 'comPhone', title: '联系电话', width: 100}
      ,{field: 'comRemark', title: '备注'}
      ,{field: 'comEdit', title: '编辑', toolbar: '#colBar'}
    ]]
  });
  element.on("tab(tab)", function(data){
    table.reload("tabListReload", {});
  });
});
</script>
</body>
</html>

